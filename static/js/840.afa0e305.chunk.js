"use strict";(self.webpackChunk_miq_clientjs=self.webpackChunk_miq_clientjs||[]).push([[840],{6550:function(t,e,n){n.d(e,{Q:function(){return p}});var r=n(8519),a=n(8312),u=n(6572);var s=n(1036);function i(t){return function(t){if(Array.isArray(t))return(0,u.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,s.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(6009),c=n(3877),o=["append"],d={refreshDeps:[]},f={loading:!0,status:null,statusText:null,config:null,data:null,headers:null,request:null};function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=(0,c.useReducer)(y,f),r=(0,l.Z)(n,2),a=r[0],u=r[1],s=(0,c.useRef)(!0),o=e.onSuccess,p=e.onError,E=(0,c.useMemo)((function(){return function(){return u({type:"LOADING"}),t().then((function(t){if(!s.current)return null;u({type:"SET_RES",payload:t}),null===o||void 0===o||o(t)})).catch((function(t){if(!s.current)return null;u({type:"SET_ERR",payload:t}),null===p||void 0===p||p(t)}))}}),[t,o,p]),Z=e.refreshDeps,T=(0,c.useMemo)((function(){return Array.isArray(Z)?[].concat(i(Z),[E]):[E]}),Z);return(0,c.useEffect)((function(){E()}),T),(0,c.useEffect)((function(){return function(){s.current=!1}}),[s]),{res:a,loading:a.loading,addItem:function(t){return u({type:"ADD_ITEM",payload:t})},updateItem:function(t){return u({type:"UPDATE_ITEM",payload:t})},removeItem:function(t){return u({type:"REMOVE_ITEM",payload:t})},updateData:function(t){return u({type:"UPDATE_DATA",payload:t})},setData:function(t){return u({type:"SET_DATA",payload:t})},removeData:function(){return u({type:"REMOVE_DATA"})},setLoading:function(){return u({type:"LOADING"})},setRes:function(t){return u({type:"SET_RES",payload:t})},setError:function(t){return u({type:"SET_ERR",payload:t})},refresh:E}}var E=function(t,e){return Object.keys(t).includes("".concat(e))},y=function(t,e){var n,u,s=e.type,l=e.payload;switch(s){case"ADD_ITEM":if(n=t.data,E(n,"results")){var c=l.append,d=(0,a.Z)(l,o);u=c?[].concat(i(n.results),[d]):[d].concat(i(n.results)),n=(0,r.Z)((0,r.Z)({},t.data),{},{results:u,count:null==t.data.count?1:t.data.count+1})}return(0,r.Z)((0,r.Z)({},t),{},{data:n});case"UPDATE_ITEM":return n=t.data,E(n,"results")&&(u=n.results.map((function(t){return t.slug===l.slug?l:t})),n=(0,r.Z)((0,r.Z)({},t.data),{},{results:u})),(0,r.Z)((0,r.Z)({},t),{},{data:n});case"REMOVE_ITEM":return n=t.data,E(n,"results")&&(u=n.results.filter((function(t){return t.slug!==l.slug})),n=(0,r.Z)((0,r.Z)({},t.data),{},{results:u})),(0,r.Z)((0,r.Z)({},t),{},{data:n});case"UPDATE_DATA":return(0,r.Z)((0,r.Z)({},t),{},{data:(0,r.Z)((0,r.Z)({},t.data),l)});case"SET_DATA":return(0,r.Z)((0,r.Z)({},t),{},{data:l});case"REMOVE_DATA":return(0,r.Z)((0,r.Z)({},t),{},{data:null});case"LOADING":return(0,r.Z)((0,r.Z)({},t),{},{loading:!0});case"SET_RES":case"SET_ERR":return(0,r.Z)((0,r.Z)((0,r.Z)({},t),l),{},{loading:!1});default:return(0,r.Z)({},t)}}},5840:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});n(3877);var r=n(6550),a=n(2076),u=n(5629),s=n(8069),i=n(135),l=function(t){return Object.assign({},(0,u.nB)(t,"index"))};function c(t){var e=(0,a.cI)({title:""}),n=(0,r.Q)((function(){return l({slug:"current"}).detail()}),{refreshDeps:[],onSuccess:function(t){var n=t.data;return e.setValues({title:n.title||""})}}),c=n.res,o=n.setRes,d=n.setError,f=new u.HM(c);if(!f.isSuccess)return null;var p=l(f.data);return(0,i.jsx)(s.Z.View,{title:"Site HomePage Settings",back:"settings/",children:(0,i.jsx)(a.ZP,{context:e,onSubmit:function(t){return t.preventDefault(),p.patch(e.values).then((function(t){var e=t.data;return o(e)})).catch((function(t){var e=t.response;return d(e)}))},children:(0,i.jsxs)(s.Z.Section,{title:"Index Page Details",children:[(0,i.jsx)(a.ZP.Field,{label:"Meta title",error:e.errors.title,children:(0,i.jsx)(a.ZP.Text,{required:!0,name:"title",maxLength:99})}),(0,i.jsx)("div",{className:"",children:(0,i.jsx)(a.ZP.Submit,{value:"Save",className:"btn-primary-2"})})]})})})}}}]);
//# sourceMappingURL=840.afa0e305.chunk.js.map